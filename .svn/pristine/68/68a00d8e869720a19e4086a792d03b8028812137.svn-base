var articleModule=angular.module("articleModule",[]);
articleModule.controller("ArticleCtrl",function($scope,$http){var offset=0,limit=4,i=0;$scope.getAbstract=function(){$http.get("api/getPostAbstract",{params:{offset:offset,limit:limit}}).success(function(data,status,headers,config){if(i==0){$scope.articles=data;i++}else if(i>=1)$scope["articles"+i++]=data;offset=offset+limit}).error(function(data,status,headers,config){throw new Error("Something went wrong...");}).then(function(result){$("pagination input").removeAttr("disabled");$("pagination input").val("\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a");
if(result.data.length<=0)$("pagination input").val("\u6ca1\u6709\u66f4\u591a\u6587\u7ae0\u5566~")})};$scope.getAbstract()});var artDetailModule=angular.module("artDetailModule",[]);
artDetailModule.controller("ArtDetailCtrl",function($scope,$http){var urlinfo=window.location.href;console.log("urlinfo="+urlinfo);var len=urlinfo.length;var offset=urlinfo.indexOf("?");var id=urlinfo.substr(offset+1,len);console.log("id="+id);var url="api/getPost/"+id;console.log(url);$http.get(url).success(function(data,status,headers,config){$scope.article=data;console.log(data)}).error(function(data,status,headers,config){throw new Error("Something went wrong...");})});